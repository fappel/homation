import org.openhab.core.library.types.*

rule "Initialize"
when
  System started
then
  postUpdate( initialization, OFF )

  createTimer( now.plusSeconds( 30 ) ) [|
    if( sunHeight.lastUpdate == null ) {
      postUpdate( sunHeight, -50.0 )
    }
    if( activeRoom.lastUpdate == null ) {
      postUpdate( activeRoom, "NONE" )
    }
    if( brightness.lastUpdate == null ) {
	  postUpdate( brightness, new PercentType( 50 ) )
    }
    if( colorTemperature.lastUpdate == null ) {
      postUpdate( colorTemperature, new PercentType( 50 ) )
    }
    if( cookingStart.lastUpdate == null ) {
      postUpdate( cookingStart, 18 )
    }
    if( cookingEnd.lastUpdate == null ) {
      postUpdate( cookingEnd, 21 )
    }
    if( morningStart.lastUpdate == null ) {
      postUpdate( morningStart, 5 )
    }
    if( morningEnd.lastUpdate == null ) {
      postUpdate( morningEnd, 8 )
    }
    if( hallLightOnThreshold.lastUpdate == null ) {
      postUpdate( hallLightOnThreshold, 50 )
    }
    if( hallLightOffThreshold.lastUpdate == null ) {
      postUpdate( hallLightOffThreshold, 400 )
    }
    if( kitchenLightOnThreshold.lastUpdate == null ) {
      postUpdate( kitchenLightOnThreshold, 50 )
    }
    if( kitchenLightOffThreshold.lastUpdate == null ) {
      postUpdate( kitchenLightOffThreshold, 400 )
    }
    if( bathRoomLightOnThreshold.lastUpdate == null ) {
      postUpdate( bathRoomLightOnThreshold, 50 )
    }
    if( bathRoomLightOffThreshold.lastUpdate == null ) {
      postUpdate( bathRoomLightOffThreshold, 400 )
    }
    if( livingRoomLightOnThreshold.lastUpdate == null ) {
      postUpdate( livingRoomLightOnThreshold, 50 )
    }
    if( livingRoomLightOffThreshold.lastUpdate == null ) {
      postUpdate( livingRoomLightOffThreshold, 400 )
    }
    if( bedRoomLightOnThreshold.lastUpdate == null ) {
      postUpdate( bedRoomLightOnThreshold, 50 )
    }
    if( bedRoomLightOffThreshold.lastUpdate == null ) {
      postUpdate( bedRoomLightOffThreshold, 400 )
    }
    if( autoSwitchOffBedRoomLight.lastUpdate == null ) {
      postUpdate( autoSwitchOffBedRoomLight, ON )
    }
    if( autoSwitchOffBedRoomLightTimeout.lastUpdate == null ) {
      postUpdate( autoSwitchOffBedRoomLightTimeout, 40 )
    }    

    postUpdate( initialization, ON )
    logInfo( "initialize", "Item values are initialized" )
  ]
end